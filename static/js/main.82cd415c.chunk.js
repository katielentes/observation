(this.webpackJsonpobservations=this.webpackJsonpobservations||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(8),s=n.n(c),o=n(9),l=(n(28),n(3)),r=n(22),d=n(12),u=function(e,t){return null===e||void 0===e?void 0:e.toLowerCase().includes(t)},j=n(1),v=function(e){var t=e.options,n=e.title,a=e.onFilterSelect;return Object(j.jsx)("div",{className:"select",children:Object(j.jsxs)("select",{onChange:a,children:[Object(j.jsx)("option",{children:n}),null===t||void 0===t?void 0:t.map((function(e){return Object(j.jsx)("option",{children:e},e)}))]})})},h=function(e){var t=e.searchVal,n=e.searchPlaceholder,a=e.onSearchChange;return Object(j.jsx)("input",{value:t,className:"input",type:"text",placeholder:n,onChange:a})},b=function(e){var t=e.filterOptions,n=e.filterOptionsTitle,a=e.onFilterSelect,i=e.onSearchChange,c=e.searchVal,s=e.searchPlaceholder,l=e.searchByUserPlaceholder,r=e.onUserSearchChange,d=e.user;return Object(j.jsxs)("div",{className:"navbar has-background-warning-light is-align-items-center",children:[Object(j.jsx)("div",{className:"navbar-brand",children:Object(j.jsx)(o.b,{to:{pathname:"/"},className:"navbar-item is-size-1",children:"\ud83d\udd0d\ud83c\udf31"})}),Object(j.jsx)("div",{className:"is-flex-direction-row",children:Object(j.jsxs)("div",{className:"navbar-start",children:[Object(j.jsx)("div",{className:"navbar-item has-input",children:Object(j.jsx)(h,{searchPlaceholder:l,searchVal:d,onSearchChange:r})}),Object(j.jsx)("div",{className:"has-input is-align-self-center navbar-item",children:Object(j.jsx)(v,{options:t,title:n,onFilterSelect:a})}),Object(j.jsx)("div",{className:"navbar-item has-input",children:Object(j.jsx)(h,{searchPlaceholder:s,searchVal:c,onSearchChange:i})})]})})]})},m=(n(35),n.p+"static/media/photoUnavailable.99ef6392.png"),x=function(e){var t,n,a,i,c,s,l,r,d,u=e.observation;return Object(j.jsxs)("div",{className:"tile is-child card p-2 is-flex is-flex-direction-column is-justify-content-space-evenly",id:"cards",children:[(null===u||void 0===u||null===(t=u.photos)||void 0===t?void 0:t.length)>0?Object(j.jsx)(o.b,{to:{pathname:"/".concat(null===u||void 0===u?void 0:u.id),state:{observationData:u}},className:"image card-image is-4by3",children:Object(j.jsx)("img",{className:"center-cropped",src:null===u||void 0===u||null===(a=u.photos[0])||void 0===a?void 0:a.large_url,alt:"Observation"},null===u||void 0===u||null===(n=u.photos[0])||void 0===n?void 0:n.id)}):Object(j.jsx)(o.b,{to:{pathname:"/".concat(null===u||void 0===u?void 0:u.id),state:{observationData:u}},className:"tile p-4",children:Object(j.jsx)("img",{className:"center-cropped",src:m,alt:"Observation"})}),Object(j.jsxs)("div",{className:"card-footer is-family-monospace has-text-weight-semibold",children:[(null===u||void 0===u||null===(i=u.taxon)||void 0===i?void 0:i.common_name)?Object(j.jsx)("p",{className:"card-footer-item is-capitalized",children:null===u||void 0===u||null===(s=u.taxon)||void 0===s||null===(l=s.common_name)||void 0===l?void 0:l.name},null===u||void 0===u||null===(c=u.taxon)||void 0===c?void 0:c.id):Object(j.jsx)("div",{}),Object(j.jsx)("p",{className:"card-footer-item is-capitalized",children:null===u||void 0===u||null===(d=u.taxon)||void 0===d?void 0:d.name},null===u||void 0===u||null===(r=u.taxon)||void 0===r?void 0:r.name),Object(j.jsx)("p",{className:"card-footer-item is-capitalized",children:null===u||void 0===u?void 0:u.iconic_taxon_name},null===u||void 0===u?void 0:u.iconic_taxon_name)]})]})},O=new Map,f=function(e){return fetch("https://www.inaturalist.org/observations/".concat(e,".json")).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},p=function(){var e=Object(a.useState)("katie1441"),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)([]),s=Object(d.a)(c,2),o=s[0],l=s[1],v=Object(a.useState)([]),h=Object(d.a)(v,2),m=h[0],p=h[1],g=Object(a.useState)(""),N=Object(d.a)(g,2),w=N[0],S=N[1],y=Object(a.useState)(!1),_=Object(d.a)(y,2),C=_[0],k=_[1],U="Select Kingdom";Object(a.useEffect)((function(){k(!0),P((function(){z(n)}),n)}),[n]),Object(a.useEffect)((function(){o.length>0&&P((function(){V(w)}),w)}),[w]);var z=function(){k(!0),function(e){return O.has(e)||O.set(e,f(e)),O.get(e)}(n).then((function(e){k(!1),l(e),p(e)}))},P=Object(a.useCallback)(function(e,t){var n;return function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,i),n=null}),t)}}((function(e,t){return e(t)}),750),[]),V=function(e){k(!0);var t=o.filter((function(t){var n,a,i;return u(null===(n=t.taxon)||void 0===n||null===(a=n.common_name)||void 0===a?void 0:a.name,e)||u(t.species_guess,e)||u(null===(i=t.taxon)||void 0===i?void 0:i.name,e)}));p(t),k(!1)},L=o&&o.reduce((function(e,t){var n,a;return e.includes(null===t||void 0===t||null===(n=t.iconic_taxon)||void 0===n?void 0:n.name)?e:[].concat(Object(r.a)(e),[null===t||void 0===t||null===(a=t.iconic_taxon)||void 0===a?void 0:a.name])}),[]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{filterOptions:L,filterOptionsTitle:U,onFilterSelect:function(e){return function(e){var t=e.target.value,n=o.filter((function(t){return e.target.value===t.iconic_taxon.name}));p(t===U?o:n)}(e)},onSearchChange:function(e){return function(e){S(e.target.value.toLowerCase())}(e)},searchVal:w,user:n,searchPlaceholder:"Search by name",searchByUserPlaceholder:"Search user",onUserSearchChange:function(e){i(e.target.value.toLowerCase())}}),Object(j.jsxs)("div",{className:" level container is-max-desktop is-align-self-center flex-wrap is-ancestor",children:[C?Object(j.jsx)("div",{children:"Loading...!"}):Object(j.jsx)(j.Fragment,{}),!C&&o&&Object(j.jsx)("div",{className:"container tile is-parent is-flex-wrap-wrap",children:(null===m||void 0===m?void 0:m.length)>0?m.map((function(e){return Object(j.jsx)(x,{observation:e},e.id)})):Object(j.jsx)("div",{children:"No matches"})})]})]})},g=n(38),N=n(23),w=function(e){var t=e.imageUrl;return Object(j.jsx)("img",{className:"image is-48x48",src:t||m,alt:""})},S=function(e){var t=e.latitude,n=e.longitude,a=e.imageUrl,i={center:{lat:41.95158110618014,lng:-87.73040048307418},zoom:3.5};return Object(j.jsx)("div",{style:{height:"70vh",width:"50vw"},children:Object(j.jsx)(N.a,{bootstrapURLKeys:{key:"AIzaSyDQluKwBoqyO4HC3Vte4oS9ZcYDrfLlAVw"},defaultCenter:i.center,defaultZoom:i.zoom,children:Object(j.jsx)(w,{imageUrl:a,lat:t,lng:n,text:"My Marker"})})})},y=function(e){var t,n,a=e.location.state.observationData;return Object(j.jsxs)("div",{style:{width:"50vw"},children:[Object(j.jsxs)("div",{className:"is-flex py-3",children:[Object(j.jsx)(o.b,{to:{pathname:"/"},className:"column ",children:Object(j.jsxs)("button",{className:"button is-success",children:[Object(j.jsx)("span",{className:"icon is-small",children:Object(j.jsx)(g.a,{})}),Object(j.jsx)("span",{children:"Go Back"})]})}),Object(j.jsxs)("div",{className:"column ",children:[Object(j.jsx)("div",{className:"has-text-weight-bold",children:"Name:"}),Object(j.jsx)("div",{className:" ",children:a.species_guess||(null===(t=a.taxon)||void 0===t||null===(n=t.common_name)||void 0===n?void 0:n.name)||a.taxon.name})]}),Object(j.jsxs)("div",{className:"column",children:[Object(j.jsx)("div",{className:"has-text-weight-bold",children:"Observed on:"}),Object(j.jsx)("div",{className:"",children:a.observed_on_string})]})]}),Object(j.jsx)(S,{latitude:a.latitude,longitude:a.longitude,imageUrl:a.photos[0].large_url})]})};var _=function(){return Object(j.jsx)("main",{className:"py-4 px-6 is-flex is-flex-direction-column is-justify-content-center has-background-warning-light is-max-desktop",children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/",component:p,exact:!0}),Object(j.jsx)(l.a,{path:"/:observationId",component:y,exact:!0})]})})};s.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(_,{})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.82cd415c.chunk.js.map